<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
      <head>
            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <title>Final Project | Damanveer Singh and Jeremy Rasor</title>
            <meta name="description" content="">
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600|Raleway" rel="stylesheet">
            <link rel="stylesheet" href="./assets/css/normalize.css"></link>
            <link rel="stylesheet" href="./assets/css/animate.css"></link>
            <link rel="stylesheet" href="./light.css"></link>
            <link rel="stylesheet" href="./section_divs.css"></link>
            <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.9/css/all.css" integrity="sha384-5SOiIsAziJl6AWe0HWRKTXlfcSHKmYV4RBF18PPJ173Kzn7jzMyFuTtk8JA7QQG1" crossorigin="anonymous">
      </head>
      <body>
            <!--[if lt IE 7]>
                  <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
            <![endif]-->
            <div id="main" class="container">

                  <!-- Header -->
                  <section id="header" class="inverted animated slideInDown active ss-style-doublediagonal bottom">
                        <h1 class="title">Damanveer Singh & Jeremy Rasor</h1>
                        <h1 class="subtitle" style="font-size: 1rem">CSCI 44300 - Database Systems Final Project</h1>
                        <h1 class="subtitle" style="font-size: .8rem">A painstakingly executed research idea</h1>
                  </section>

                  
                  <!--  MAIN OVERVIEW  -->
                  <section id="goal" class="card animated fadeIn active">
                        <div class="left">
                              <div id="text-content" class="animated bounceInLeft">
                                    <h1 class="title">Goal</h1>
                                    <p>To study the effects of various query structures on different levels of data</p>
                                    <hr />
                                    <h1 class="title">Progress</h1>
                                    <p>We've done research on query optimization techniques and caching mechanisms used by SSMS. <br/>Now, we're hoping to find patterns in query structures to see how they effect execution time.</p>
                                    <ul id="todo-list">
                                          <li class="done"><i class="far fa-check-circle"></i>  Researched numerous techniques in query plan tree optimization</li>
                                          <li class="done"><i class="far fa-check-circle"></i>  Algorithms used to prepare databases to ready multiple queries</li>
                                          <li class="done"><i class="far fa-check-circle"></i>  Role of cache in data access</li>
                                          <li class="done"><i class="far fa-check-circle"></i>  Find datasets of various magnitudes to test on</li>
                                          <li class="done"><i class="far fa-check-circle"></i>  Run test queries</li>
                                          <li class="done"><i class="far fa-check-circle"></i>  Analyze Results</li>
                                    </ul>
                              </div>
                        </div>
                        <div class="right">
                              <div class="js-image" style="background-image: url(./imgs/db-1.png); opacity:1"></div>
                        </div>
                  </section>


                  <!-- INPUT DATA OVERVIEW  -->
                  <section id="input_data" class="inverted">
                        <h1 class="title">Input Datasets</h1>
                        <div class="breaker"></div>
                        <ul>
                              <li>
                                    <h1 class="title">Toy Products</h1>
                                    <h1 class="subtitle">9MB, 17 columns</h1>
                                    <div class="breaker"></div>
                                    <p>10000 records of information on toy product sales on Amazon</p>
                                    <p class="magnitude_tag"style="background-color: #00E676">Small</p>
                              </li>
                              <li>
                                    <h1 class="title">Library Checkouts</h1>
                                    <h1 class="subtitle">1GB, 6 columns</h1>
                                    <div class="breaker"></div>
                                    <p>Log of Physical item checkouts from Seattle Public Library</p>
                                    <p class="magnitude_tag"style="background-color: #FDD835">Large</p>
                              </li>
                              <li>
                                    <h1 class="title">London Crime</h1>
                                    <h1 class="subtitle">3.3GB, 7 columns</h1>
                                    <div class="breaker"></div>
                                    <p>Crimes in London by borough, category, and month from 2008-2016</p>
                                    <p class="magnitude_tag"style="background-color: #FF5252">Big</p>
                              </li>
                        </ul>
                        <svg class="sectionDiv bottom" xmlns="http://www.w3.org/2000/svg" width="100%" height="100" viewBox="0 0 100 100" preserveAspectRatio="none">
                              <path d="M0 0 L50 100 L100 0 Z" />
                        </svg>
                  </section>

                  <!-- METHODOLOGY -->
                  <section id="methodology">
                        <h1 class="title">Methodology</h1>
                        <div class="breaker"></div>
                        <p>We created 4 databases using CSV files of the datasets shown above.<br/>
                              Once imported into SSMS, we iterated over each dataset with a query that met specific qualifications.<br/>
                              Each query contained a set number of columns to return and was classified by the size of the dataset and the SQL operation used (SELECT, UPDATE, DELETE).<br/>
                              When the query finished executing, the total execution time per query (in milliseconds) was recorded.<br/>
                              After the simple SQL operators were tested, we tested more abstract ideas that could moreso be influenced by implementation.
                              Firstly, we tested SSMS's caching mechanism by executing multiple SELECT statements in a single query. Each statement retrieved the same data as the previous but with one additional column; this way,
                              if the data were being cached, each query would get progressively faster than it was when we tested purely by number of columns (see above).
                              Then, we tested the DROP command on both tables and databases alike... because why not.
                              Query times were provided by the T-SQL operation<br/>
                              <span>
                                    <br/>
                                    <code style="color: rgb(0,162,255)">SET STATISTICS TIME ON</code>
                                    <br/>
                              </span><br/>
                              The results were compiled into an Excel spreadsheet to be analyzed for patterns.
                        </p>
                  </section>

                  <!-- TEST ANALYSIS -->
                  
                  <section id="results" class="inverted ss-style-doublediagonal">
                        <h1 class="title">Results</h1>
                        <div class="breaker"></div>
                        <p>
                              Our results were far from expected. The relationship between <b>number of columns accessed</b> by a single query <b>followed a sinusoidal curve pattern</b>. In other words, as the number of
                              columns increased, the execution time of the query would follow a repeating pattern of increase then decrease then increase again. We confirmed that <b>this was not due to repeated
                              access of the same data</b> by running multiple queries accessing the same data with an additional column requested each time; this change showed little to no influence on the execution
                              time of the query. We're still unsure as to why this pattern occurs and are currently researching this matter further.
                        </p>
                        <br/>
                        <p>
                              Another trend in the data showed a strong correlation between the datatypes of the columns accessed and the execution time. <b>Columns with more complex datatypes</b> such as "text" and "numeric"
                              <b>were significantly more expensive</b> to access than primitive datatypes (like integers). This change was accounted for in our tests and has no known influence on the results shared earlier.
                              Correspondingly, tables with primary keys returned queries in nearly half the time as tables lacking in any key. Even on our big dataset, our projected execution times were nearly double that of what was
                              observed. This is partially due to optimization and caching mechanisms implemented by SSMS.
                        </p>
                        <div id="stats"></div>
                  </section>


                  <!-- Project Details -->
                  <section id="project_details" class="inverted ss-style-doublediagonal" style="margin-top: -3rem">
                        <h1 class="title">Project Details</h1>
                        <div class="breaker"></div>
                        <p>The relationship between our research project and the class material is clear.
                              In class we learned about SQL and queries for about a week and then indirectly learned more through practice for the following weeks.
                              Moreover, Jeremy and I presented an entire lecture about Query Optimization Techniques to our class as a segway into our final project.
                              From here, many naturally become curious about deeper effects of databases and tables.
                        </p>
                        <br />
                        <p>Our project idea stemmed from an interest Jeremy and I shared in query optimization techniques.<br/>
                              We learned plenty about these and even query optimizers but we were still curious about the reason behind
                              developing these optimization techniques in the first place. It's obvious we need them since data is massive and growing.
                              However, we were more agitated by a deeper question; what changes cause queries to be "less" efficient?
                        </p>
                        <br />
                        <p>By far the more difficult part of this project was the overhead of knowledge Jeremy and I had to learn.<br/>
                              There was a lot of information that we found which we could not comprehend (which created even more overhead).
                              Through this chain of knowledge dependencies, we learned about Query optimization, caching mechanisms, locking mechanisms, 
                              large data management issues, big data reduction algorithms/methods, and a ton more. I cannot even describe how enlightening
                              this project was even though we only presented a fraction of the information we truly learned from the experience.
                        </p>
                        <br />
                        <p>
                              Datasets were found through <b><a href="https://www.kaggle.com/datasets" target="_">Kaggle</a></b>, a widely known data science community website with many datasets of various sizes.<br/>
                              <br/>
                              <u>Research materials include:</u>
                        </p>
                        <ul id="cites">
                              <li>Nelson, Paul. “The Magic and Wonder of Query Parsing.” Search Technologies, www.searchtechnologies.com/search-query-parsing.
                                    </li>
                              <li>Jhingran, Anant. A Performance Study of Query Optimization Algorithms on a Database System Supporting Procedures. EECS Department, 1988, www.vldb.org/conf/1988/P088.PDF. Accessed 30 Mar. 2018.
                                    </li>
                              <li>Dittrich, Jenns. Patterns in Data Management. 2015, https://bigdata.uni-saarland.de/datenbankenlernen/Patterns_In_Data_Management_Preview.pdf. Accessed 30 Mar. 2018.
                                    </li>
                              <li>Hellerstein, Joe. “SQL Query Optimization.” Query Optimization, people.eecs.berkeley.edu/~brewer/cs262/queryopt.html.
                                    </li>
                              <li>Ramakrishnan, Raghu, and Johanes Gehrke. Database Management Systems. 3rd ed., New York, McGraw-Hill, Inc., 2003.
                                    </li>
                        </ul>
                  </section>
            </div>

            <script type="text/javascript" src="./interactivity.js"></script>
      </body>
</html>